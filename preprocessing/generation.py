import random
from config import DirConfig


def gen_example():
    # 32bit app id
    _id = "%032x" % random.getrandbits(128)
    # label
    label = str(random.randint(0, 1))
    # behavior
    # --length
    behavior_length = random.randint(10, 50)
    behaviors = ':'.join([str(random.randint(1000000, 9999999)) for _ in range(behavior_length)])

    return '\t'.join([_id, label, behaviors])


def gen_dataset(filename, size):
    with open(filename, 'w') as f:
        f.write('APP_ID\tLABEL\tACTION\n')
        for _ in range(size):
            example = gen_example()
            f.write(example)
            f.write('\n')


if __name__ == '__main__':
    gen_dataset(DirConfig.train_path, 1000)
    gen_dataset(DirConfig.dev_path, 100)
    gen_dataset(DirConfig.test_path, 100)
